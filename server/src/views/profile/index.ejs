<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/head') %>
  </head>
  <body>
    <%- include('../partials/header') %>
    <div class="container">
      <div class="text-center mt-3">
        <h3><%= user.firstName %> <%= user.lastName %></h3>
        <p class="text-dark"><%= user.bio %></p>
      </div>
      <hr />
      <div class="row">
        <div class="col-md-5 mb-2">
          <div class="card mb-2" style="border-radius: 10px; min-height: 300px">
            <div class="card-body">
              <h5>Intro</h5>
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">
                <i class="fa fa-map-marker fa-lg"></i>
                <span class="ms-2"><%= user.hometown %></span>
              </li>
              <li class="list-group-item">
                <i class="fa fa-briefcase fa-lg"></i>
                <span class="ms-2"><%= user.workplace %></span>
              </li>
              <li class="list-group-item">
                <i class="fa fa-book fa-lg"></i>
                <span class="ms-2"><%= user.education %></span>
              </li>
              <li class="list-group-item">
                <i class="fa fa-phone fa-lg"></i>
                <span class="ms-2"><%= user.contact %></span>
              </li>
            </ul>
            <% if (currentUser && currentUser._id.toString() ===
            user._id.toString()) { %>
            <div class="card-body text-center">
              <a
                href="/profile/<%= user._id %>/edit"
                class="btn btn-secondary btn-block"
              >
                <i class="fa fa-pencil"></i> 프로필 수정하기
              </a>
              <br />
            </div>
            <% } %>
          </div>
        </div>

        <div class="col-md-7">
          <% if (currentUser && currentUser._id.toString() ===
          user._id.toString()) { %>
          <div class="mb-2"><%- include('../partials/create-post') %></div>
          <% } %>
          <div class="mb-2">
            <div class="card" style="border-radius: 10px">
              <div class="card-body">
                <p>포스트</p>
              </div>
            </div>
          </div>
          <div>
            <% posts.forEach((post) => { %>
            <div style="word-break: break-all; overflow-wrap: break-word">
              <%- include('../partials/post-item', { post: post }) %>
            </div>
            <% }) %>
          </div>
        </div>
      </div>
    </div>

    <%- include('../partials/post-modal') %> <%- include('../partials/footer')
    %>
  </body>
</html>
